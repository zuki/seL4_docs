<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RefOS: libs/librefos/src/refos-rpc/name_client.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RefOS
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Multi-server operating system on seL4</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('name__client_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">name_client.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generated file for the name interface. Please do NOT edit this file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="rpc_8h_source.html">refos-rpc/rpc.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="name__client_8h_source.html">refos-rpc/name_client.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="refos_8h_source.html">refos/refos.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="vmlayout_8h_source.html">refos/vmlayout.h</a>&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae2886b156849c8f894f18886e22d5fc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="name__client_8c.html#ae2886b156849c8f894f18886e22d5fc1">nsv_register</a> (seL4_CPtr nameserv, char *name, seL4_CPtr ep)</td></tr>
<tr class="memdesc:ae2886b156849c8f894f18886e22d5fc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register as a server under the given name so clients can find us.  <a href="name__client_8c.html#ae2886b156849c8f894f18886e22d5fc1">More...</a><br /></td></tr>
<tr class="separator:ae2886b156849c8f894f18886e22d5fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6095eb1d7f81a74452393439be30600d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="name__client_8c.html#a6095eb1d7f81a74452393439be30600d">nsv_unregister</a> (seL4_CPtr nameserv, char *name)</td></tr>
<tr class="memdesc:a6095eb1d7f81a74452393439be30600d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister as a server.  <a href="name__client_8c.html#a6095eb1d7f81a74452393439be30600d">More...</a><br /></td></tr>
<tr class="separator:a6095eb1d7f81a74452393439be30600d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889a9dd06ddf6bb05656cfa4d9556fc4"><td class="memItemLeft" align="right" valign="top">seL4_CPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="name__client_8c.html#a889a9dd06ddf6bb05656cfa4d9556fc4">nsv_resolve_segment_internal</a> (seL4_CPtr nameserv, char *path, int *resolvedBytes, <a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> *<a class="el" href="unixunix_8c.html#ad65a8842cc674e3ddf69355898c0ecbf">errno</a>)</td></tr>
<tr class="memdesc:a889a9dd06ddf6bb05656cfa4d9556fc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolve the next segment of the given path at the given nameserv.  <a href="name__client_8c.html#a889a9dd06ddf6bb05656cfa4d9556fc4">More...</a><br /></td></tr>
<tr class="separator:a889a9dd06ddf6bb05656cfa4d9556fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generated file for the name interface. Please do NOT edit this file. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae2886b156849c8f894f18886e22d5fc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2886b156849c8f894f18886e22d5fc1">&#9670;&nbsp;</a></span>nsv_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> nsv_register </td>
          <td>(</td>
          <td class="paramtype">seL4_CPtr&#160;</td>
          <td class="paramname"><em>nameserv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_CPtr&#160;</td>
          <td class="paramname"><em>ep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register as a server under the given name so clients can find us. </p>
<p>Servers need to create an endpoint and call this on the process server, in order for clients to be able to find this server and to connect to it. The anon cap will be given to clients looking for this server, and the client will make its connection call through the anon cap to establish a session.</p>
<p>Re-registering will replace the current server anon cap.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nameserv</td><td>The name server to register onto. </td></tr>
    <tr><td class="paramname">name</td><td>String containing name to register under. (No ownership) </td></tr>
    <tr><td class="paramname">ep</td><td>The anonymous endpoint cap to register with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS on success, refos_err_t error code otherwise. </dd></dl>

</div>
</div>
<a id="a889a9dd06ddf6bb05656cfa4d9556fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a889a9dd06ddf6bb05656cfa4d9556fc4">&#9670;&nbsp;</a></span>nsv_resolve_segment_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">seL4_CPtr nsv_resolve_segment_internal </td>
          <td>(</td>
          <td class="paramtype">seL4_CPtr&#160;</td>
          <td class="paramname"><em>nameserv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>resolvedBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> *&#160;</td>
          <td class="paramname"><em>errno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolve the next segment of the given path at the given nameserv. </p>
<p>Gives back an anon cap if the server is found. For details regarding the anon cap, refer to the documentation under <a class="el" href="name__client_8h.html#ae2886b156849c8f894f18886e22d5fc1" title="Register as a server under the given name so clients can find us.">nsv_register()</a>. This function resolves a part of the name, returned as offset into the string that has been resolved. The rest of the path string may be resolved by another dataspace, and so forth, until we get to the end containing the endpoint to the server that actually contains the file. This allows for a simple hierachical namespace with distributed naming.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">nameserv</td><td>The name server to resolve with. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">path</td><td>The path to resolve. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resolvedBytes</td><td>Output containing number of bytes resolved. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">errno</td><td>Outut error code, if an error occured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on error, anon capability to next name server on success. </dd></dl>

</div>
</div>
<a id="a6095eb1d7f81a74452393439be30600d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6095eb1d7f81a74452393439be30600d">&#9670;&nbsp;</a></span>nsv_unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> nsv_unregister </td>
          <td>(</td>
          <td class="paramtype">seL4_CPtr&#160;</td>
          <td class="paramname"><em>nameserv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister as a server. </p>
<p>Unregister as a server under given name, so clients are no longer able to find us under that name. Existing anon caps will be invalidated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nameserv</td><td>The name server to unregister from. </td></tr>
    <tr><td class="paramname">name</td><td>String containing name to unregister for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS on success, refos_err_t error code otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6719ab1f1f7655efc2fa43f7eb574fd1.html">libs</a></li><li class="navelem"><a class="el" href="dir_e1f5680096cde1ba172dd0a26cecf023.html">librefos</a></li><li class="navelem"><a class="el" href="dir_d1a7a8e98f7a53a8f1e1d9484aff3edd.html">src</a></li><li class="navelem"><a class="el" href="dir_2bb6605f0e53c9b6fca9194a2fd67008.html">refos-rpc</a></li><li class="navelem"><a class="el" href="name__client_8c.html">name_client.c</a></li>
    <li class="footer">Generated on Sat Jun 10 2023 10:14:24 for RefOS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
