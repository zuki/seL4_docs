<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RefOS: apps/process_server/src/system/memserv/dataspace.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RefOS
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Multi-server operating system on seL4</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('process__server_2src_2system_2memserv_2dataspace_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dataspace.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Process Server anon RAM dataspace implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;sel4/sel4.h&gt;</code><br />
<code>#include &lt;<a class="el" href="cvector_8h_source.html">data_struct/cvector.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="coat_8h_source.html">data_struct/coat.h</a>&gt;</code><br />
<code>#include &lt;vspace/vspace.h&gt;</code><br />
<code>#include &quot;<a class="el" href="common_8h_source.html">../../common.h</a>&quot;</code><br />
</div>
<p><a href="process__server_2src_2system_2memserv_2dataspace_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structram__dspace.html">ram_dspace</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram dataspace structure.  <a href="structram__dspace.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structram__dspace__list.html">ram_dspace_list</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram dataspace list.  <a href="structram__dspace__list.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structram__dspace__waiter.html">ram_dspace_waiter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ram dataspace content init waiter structure.  <a href="structram__dspace__waiter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a904059498e894d9a1f5ac2fa01a4de62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a904059498e894d9a1f5ac2fa01a4de62">RAM_DATASPACE_MAGIC</a>&#160;&#160;&#160;0xF89D8531</td></tr>
<tr class="separator:a904059498e894d9a1f5ac2fa01a4de62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55680414e2ff81974bd514459cfb8e59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a55680414e2ff81974bd514459cfb8e59">RAM_DATASPACE_LIST_MAGIC</a>&#160;&#160;&#160;0xC923BE76</td></tr>
<tr class="separator:a55680414e2ff81974bd514459cfb8e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2768ecc5d5ed61af7119a619495e09e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a2768ecc5d5ed61af7119a619495e09e0">RAM_DATASPACE_WAITER_MAGIC</a>&#160;&#160;&#160;0x351095BC</td></tr>
<tr class="separator:a2768ecc5d5ed61af7119a619495e09e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73d3e897f6c60734b6533989ef450cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#aa73d3e897f6c60734b6533989ef450cc">RAM_DATASPACE_INVALID_ID</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aa73d3e897f6c60734b6533989ef450cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac24cf0cf74fbbc0044b4462c38a5ef68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#ac24cf0cf74fbbc0044b4462c38a5ef68">ram_dspace_init</a> (struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *rdslist)</td></tr>
<tr class="memdesc:ac24cf0cf74fbbc0044b4462c38a5ef68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises an empty ram dataspace list.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#ac24cf0cf74fbbc0044b4462c38a5ef68">More...</a><br /></td></tr>
<tr class="separator:ac24cf0cf74fbbc0044b4462c38a5ef68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d65af4231c5b4278e17f668120a4e4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a2d65af4231c5b4278e17f668120a4e4d">ram_dspace_deinit</a> (struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *rdslist)</td></tr>
<tr class="memdesc:a2d65af4231c5b4278e17f668120a4e4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-initialises an empty ram dataspace list.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#a2d65af4231c5b4278e17f668120a4e4d">More...</a><br /></td></tr>
<tr class="separator:a2d65af4231c5b4278e17f668120a4e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23dcbea7ff27b59199a002fa682b7f6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#ae23dcbea7ff27b59199a002fa682b7f6">ram_dspace_create</a> (struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *rdslist, size_t size)</td></tr>
<tr class="memdesc:ae23dcbea7ff27b59199a002fa682b7f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new ram dataspace and inserts into a ram dataspace list.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#ae23dcbea7ff27b59199a002fa682b7f6">More...</a><br /></td></tr>
<tr class="separator:ae23dcbea7ff27b59199a002fa682b7f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077eaa9510491695f04745cda7dec614"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a077eaa9510491695f04745cda7dec614">ram_dspace_ref</a> (struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *rdslist, int ID)</td></tr>
<tr class="memdesc:a077eaa9510491695f04745cda7dec614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a shared reference to ram dataspace from a ram dataspace list.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#a077eaa9510491695f04745cda7dec614">More...</a><br /></td></tr>
<tr class="separator:a077eaa9510491695f04745cda7dec614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab6f7293bd7f8b42307c41021f41941"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#abab6f7293bd7f8b42307c41021f41941">ram_dspace_unref</a> (struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *rdslist, int ID)</td></tr>
<tr class="memdesc:abab6f7293bd7f8b42307c41021f41941"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unreference a ram dataspace from a ram dataspace list. If this is the last reference, then the ram dataspace will be deleted from the list.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#abab6f7293bd7f8b42307c41021f41941">More...</a><br /></td></tr>
<tr class="separator:abab6f7293bd7f8b42307c41021f41941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76488fd5b78344f687c368357284e37"><td class="memItemLeft" align="right" valign="top">seL4_CPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#aa76488fd5b78344f687c368357284e37">ram_dspace_check_page</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset)</td></tr>
<tr class="memdesc:aa76488fd5b78344f687c368357284e37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether a page in the ram dataspace exists, and finds &amp; returns it if it does.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#aa76488fd5b78344f687c368357284e37">More...</a><br /></td></tr>
<tr class="separator:aa76488fd5b78344f687c368357284e37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d6917582465717fc893974c0694ad3"><td class="memItemLeft" align="right" valign="top">seL4_CPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#af1d6917582465717fc893974c0694ad3">ram_dspace_get_page</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset)</td></tr>
<tr class="memdesc:af1d6917582465717fc893974c0694ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a page at a given offset. If the page hasn't been created, it will be allocated. Note that this does NOT perform content init.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#af1d6917582465717fc893974c0694ad3">More...</a><br /></td></tr>
<tr class="separator:af1d6917582465717fc893974c0694ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947d915f76773e3b99e0f1b11b25c2b2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a947d915f76773e3b99e0f1b11b25c2b2">ram_dspace_get</a> (struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *rdslist, int ID)</td></tr>
<tr class="memdesc:a947d915f76773e3b99e0f1b11b25c2b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a ram dataspace in a ram dataspace list by a dataspace ID.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#a947d915f76773e3b99e0f1b11b25c2b2">More...</a><br /></td></tr>
<tr class="separator:a947d915f76773e3b99e0f1b11b25c2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78e657b2569a2e5af2d491df02df023"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#af78e657b2569a2e5af2d491df02df023">ram_dspace_get_badge</a> (struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *rdslist, seL4_Word badge)</td></tr>
<tr class="memdesc:af78e657b2569a2e5af2d491df02df023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a ram dataspace in a ram dataspace list by a dataspace badge.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#af78e657b2569a2e5af2d491df02df023">More...</a><br /></td></tr>
<tr class="separator:af78e657b2569a2e5af2d491df02df023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0487191d4608d7e51f58ad39dd734e9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#ae0487191d4608d7e51f58ad39dd734e9">ram_dspace_get_size</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace)</td></tr>
<tr class="memdesc:ae0487191d4608d7e51f58ad39dd734e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size in bytes of the given dataspace.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#ae0487191d4608d7e51f58ad39dd734e9">More...</a><br /></td></tr>
<tr class="separator:ae0487191d4608d7e51f58ad39dd734e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f5b44bc1d9a7e51214ea8c92c2681f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a40f5b44bc1d9a7e51214ea8c92c2681f">ram_dspace_expand</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t size)</td></tr>
<tr class="memdesc:a40f5b44bc1d9a7e51214ea8c92c2681f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands the given dataspace.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#a40f5b44bc1d9a7e51214ea8c92c2681f">More...</a><br /></td></tr>
<tr class="separator:a40f5b44bc1d9a7e51214ea8c92c2681f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57528a79f5f3ada483b54866056ac387"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a57528a79f5f3ada483b54866056ac387">ram_dspace_set_to_paddr</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t paddr)</td></tr>
<tr class="memdesc:a57528a79f5f3ada483b54866056ac387"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the dataspace to start at the given physical address.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#a57528a79f5f3ada483b54866056ac387">More...</a><br /></td></tr>
<tr class="separator:a57528a79f5f3ada483b54866056ac387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a652af03222848dad0da8dbfefd1511b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a652af03222848dad0da8dbfefd1511b3">ram_dspace_read</a> (char *<a class="el" href="unixunix_8c.html#a69ecf571a24e1f0227e484b18a3ac3e3">buf</a>, size_t len, struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset)</td></tr>
<tr class="memdesc:a652af03222848dad0da8dbfefd1511b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from a ram dataspace.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#a652af03222848dad0da8dbfefd1511b3">More...</a><br /></td></tr>
<tr class="separator:a652af03222848dad0da8dbfefd1511b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde946ee1df9cd81307bcb787a5051be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#abde946ee1df9cd81307bcb787a5051be">ram_dspace_write</a> (char *<a class="el" href="unixunix_8c.html#a69ecf571a24e1f0227e484b18a3ac3e3">buf</a>, size_t len, struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset)</td></tr>
<tr class="memdesc:abde946ee1df9cd81307bcb787a5051be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data to a ram dataspace.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#abde946ee1df9cd81307bcb787a5051be">More...</a><br /></td></tr>
<tr class="separator:abde946ee1df9cd81307bcb787a5051be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf9ec5cbca168461e1f8a94f4ed7795"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#adbf9ec5cbca168461e1f8a94f4ed7795">ram_dspace_content_init</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, cspacepath_t initEP, uint32_t initPID)</td></tr>
<tr class="memdesc:adbf9ec5cbca168461e1f8a94f4ed7795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the RAM dataspace to be initialised by another RAM dataspace.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#adbf9ec5cbca168461e1f8a94f4ed7795">More...</a><br /></td></tr>
<tr class="separator:adbf9ec5cbca168461e1f8a94f4ed7795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe1c592522426523cba5d35d452dc6c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#acbe1c592522426523cba5d35d452dc6c">ram_dspace_need_content_init</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset)</td></tr>
<tr class="memdesc:acbe1c592522426523cba5d35d452dc6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether content initialisation is needed for the given offset.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#acbe1c592522426523cba5d35d452dc6c">More...</a><br /></td></tr>
<tr class="separator:acbe1c592522426523cba5d35d452dc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5e32a3659038da3e6f6291f950e01db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#ac5e32a3659038da3e6f6291f950e01db">ram_dspace_add_content_init_waiter</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset, cspacepath_t reply)</td></tr>
<tr class="memdesc:ac5e32a3659038da3e6f6291f950e01db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new content-init blocked waiter.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#ac5e32a3659038da3e6f6291f950e01db">More...</a><br /></td></tr>
<tr class="separator:ac5e32a3659038da3e6f6291f950e01db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace837562a4859110596ac5065e07d844"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#ace837562a4859110596ac5065e07d844">ram_dspace_add_content_init_waiter_save_current_caller</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset)</td></tr>
<tr class="memdesc:ace837562a4859110596ac5065e07d844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new content-init blocked waiter using current caller reply cap.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#ace837562a4859110596ac5065e07d844">More...</a><br /></td></tr>
<tr class="separator:ace837562a4859110596ac5065e07d844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98aed999fd02c0d84a86366ed23e51f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a98aed999fd02c0d84a86366ed23e51f1">ram_dspace_content_init_reply_waiters</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset)</td></tr>
<tr class="memdesc:a98aed999fd02c0d84a86366ed23e51f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up any waiters waiting at this offset.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#a98aed999fd02c0d84a86366ed23e51f1">More...</a><br /></td></tr>
<tr class="separator:a98aed999fd02c0d84a86366ed23e51f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0021ceb7f4f3f8a069640dc82611f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a7f0021ceb7f4f3f8a069640dc82611f4">ram_dspace_set_content_init_provided</a> (struct <a class="el" href="structram__dspace.html">ram_dspace</a> *dataspace, uint32_t offset)</td></tr>
<tr class="memdesc:a7f0021ceb7f4f3f8a069640dc82611f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the content-init page of dataspace at offset to be provided.  <a href="process__server_2src_2system_2memserv_2dataspace_8h.html#a7f0021ceb7f4f3f8a069640dc82611f4">More...</a><br /></td></tr>
<tr class="separator:a7f0021ceb7f4f3f8a069640dc82611f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Process Server anon RAM dataspace implementation. </p>
<p>A dataspace implementation which is backed by physical RAM. Provides methods for creating &amp; deleting ram dataspaces, as well as manages reading and writing to them directly. The actual frames objects are lazily allocated. Dataspace objects support shared strong references through refcounting. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa73d3e897f6c60734b6533989ef450cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa73d3e897f6c60734b6533989ef450cc">&#9670;&nbsp;</a></span>RAM_DATASPACE_INVALID_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_DATASPACE_INVALID_ID&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a55680414e2ff81974bd514459cfb8e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55680414e2ff81974bd514459cfb8e59">&#9670;&nbsp;</a></span>RAM_DATASPACE_LIST_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_DATASPACE_LIST_MAGIC&#160;&#160;&#160;0xC923BE76</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a904059498e894d9a1f5ac2fa01a4de62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a904059498e894d9a1f5ac2fa01a4de62">&#9670;&nbsp;</a></span>RAM_DATASPACE_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_DATASPACE_MAGIC&#160;&#160;&#160;0xF89D8531</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2768ecc5d5ed61af7119a619495e09e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2768ecc5d5ed61af7119a619495e09e0">&#9670;&nbsp;</a></span>RAM_DATASPACE_WAITER_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAM_DATASPACE_WAITER_MAGIC&#160;&#160;&#160;0x351095BC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac5e32a3659038da3e6f6291f950e01db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5e32a3659038da3e6f6291f950e01db">&#9670;&nbsp;</a></span>ram_dspace_add_content_init_waiter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ram_dspace_add_content_init_waiter </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cspacepath_t&#160;</td>
          <td class="paramname"><em>reply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new content-init blocked waiter. </p>
<p>Adds a new content-init waiter at the given offset to this dataspace. When the content has been provided, the given endpoint will be replied to.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The dataspace that the waiter wants to wait on. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset at which the client is waiting for, into the dataspace. </td></tr>
    <tr><td class="paramname">reply</td><td>The reply endpoint, which will unblock the waiting client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS if success, refos_error otherwise. </dd></dl>

</div>
</div>
<a id="ace837562a4859110596ac5065e07d844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace837562a4859110596ac5065e07d844">&#9670;&nbsp;</a></span>ram_dspace_add_content_init_waiter_save_current_caller()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ram_dspace_add_content_init_waiter_save_current_caller </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new content-init blocked waiter using current caller reply cap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The dataspace that the waiter wants to wait on. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset at which the client is waiting for, into the dataspace. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS if success, refos_error otherwise. </dd></dl>

</div>
</div>
<a id="aa76488fd5b78344f687c368357284e37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa76488fd5b78344f687c368357284e37">&#9670;&nbsp;</a></span>ram_dspace_check_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">seL4_CPtr ram_dspace_check_page </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether a page in the ram dataspace exists, and finds &amp; returns it if it does. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The ram dataspace to find and get the page object from. </td></tr>
    <tr><td class="paramname">offset</td><td>Offset into the ram dataspace. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CPtr to frame if there's a page at the given offset in the given dataspace, 0 otherwise. No ownership transfer. </dd></dl>

</div>
</div>
<a id="adbf9ec5cbca168461e1f8a94f4ed7795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbf9ec5cbca168461e1f8a94f4ed7795">&#9670;&nbsp;</a></span>ram_dspace_content_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ram_dspace_content_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cspacepath_t&#160;</td>
          <td class="paramname"><em>initEP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>initPID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the RAM dataspace to be initialised by another RAM dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The dataspace set content init for. </td></tr>
    <tr><td class="paramname">initEP</td><td>The external dspace server that will initialise this dataspace. (Takes ownership) </td></tr>
    <tr><td class="paramname">initPID</td><td>The external dspace server PID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS if success, refos_error otherwise. </dd></dl>

</div>
</div>
<a id="a98aed999fd02c0d84a86366ed23e51f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98aed999fd02c0d84a86366ed23e51f1">&#9670;&nbsp;</a></span>ram_dspace_content_init_reply_waiters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ram_dspace_content_init_reply_waiters </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wakes up any waiters waiting at this offset. </p>
<p>Wakes up any waiter clients waiting at this offset for content-init. This does NOT set the content provided flag, simply loops through the waiting list the replies to clients.</p>
<p>Note that we do not need to perform and VSpace mapping operations here on the waiting clients, but simply waking them back up is enough, as they will cause another VM fault upon wake-up and then since the content has been initialised now, it will me mapped straight in on the second VM fault. This may be optimised further by performing VSpace mappings right now before waking up the clients.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The dataspace containing the waiters. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset at which the clients are waiting for, into the dataspace. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae23dcbea7ff27b59199a002fa682b7f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae23dcbea7ff27b59199a002fa682b7f6">&#9670;&nbsp;</a></span>ram_dspace_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structram__dspace.html">ram_dspace</a>* ram_dspace_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *&#160;</td>
          <td class="paramname"><em>rdslist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new ram dataspace and inserts into a ram dataspace list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdslist</td><td>The ram dataspace list to allocate from. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the new dataspace in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The newly created ram dataspace if success (No ownership), NULL otherwise. </dd></dl>

</div>
</div>
<a id="a2d65af4231c5b4278e17f668120a4e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d65af4231c5b4278e17f668120a4e4d">&#9670;&nbsp;</a></span>ram_dspace_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ram_dspace_deinit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *&#160;</td>
          <td class="paramname"><em>rdslist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-initialises an empty ram dataspace list. </p>

</div>
</div>
<a id="a40f5b44bc1d9a7e51214ea8c92c2681f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40f5b44bc1d9a7e51214ea8c92c2681f">&#9670;&nbsp;</a></span>ram_dspace_expand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ram_dspace_expand </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands the given dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The dataspace to expand for. </td></tr>
    <tr><td class="paramname">size</td><td>The new dataspace size. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS on success, refos_error otherwise. </dd></dl>

</div>
</div>
<a id="a947d915f76773e3b99e0f1b11b25c2b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a947d915f76773e3b99e0f1b11b25c2b2">&#9670;&nbsp;</a></span>ram_dspace_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structram__dspace.html">ram_dspace</a>* ram_dspace_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *&#160;</td>
          <td class="paramname"><em>rdslist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds a ram dataspace in a ram dataspace list by a dataspace ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdslist</td><td>The source list of ram dataspaces. (No ownership) </td></tr>
    <tr><td class="paramname">ID</td><td>The dataspace ID to locate the ram dataspace in the list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The (weak) reference to target ram dataspace if found, NULL otherwise. </dd></dl>

</div>
</div>
<a id="af78e657b2569a2e5af2d491df02df023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78e657b2569a2e5af2d491df02df023">&#9670;&nbsp;</a></span>ram_dspace_get_badge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structram__dspace.html">ram_dspace</a>* ram_dspace_get_badge </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *&#160;</td>
          <td class="paramname"><em>rdslist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_Word&#160;</td>
          <td class="paramname"><em>badge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds a ram dataspace in a ram dataspace list by a dataspace badge. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdslist</td><td>The source list of ram dataspaces. (No ownership) </td></tr>
    <tr><td class="paramname">badge</td><td>The dataspace badge to locate the ram dataspace in the list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The (weak) reference to target ram dataspace if found, NULL otherwise. </dd></dl>

</div>
</div>
<a id="af1d6917582465717fc893974c0694ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d6917582465717fc893974c0694ad3">&#9670;&nbsp;</a></span>ram_dspace_get_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">seL4_CPtr ram_dspace_get_page </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a page at a given offset. If the page hasn't been created, it will be allocated. Note that this does NOT perform content init. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The ram dataspace to get the page object from. </td></tr>
    <tr><td class="paramname">offset</td><td>Offset into the ram dataspace. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CPtr to frame if success, 0 if offset invalid or out of memory. No ownership transfer. </dd></dl>

</div>
</div>
<a id="ae0487191d4608d7e51f58ad39dd734e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0487191d4608d7e51f58ad39dd734e9">&#9670;&nbsp;</a></span>ram_dspace_get_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ram_dspace_get_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the size in bytes of the given dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The dataspace to retrieve size for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of the given dataspace in bytes on success, 0 otherwise. </dd></dl>

</div>
</div>
<a id="ac24cf0cf74fbbc0044b4462c38a5ef68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac24cf0cf74fbbc0044b4462c38a5ef68">&#9670;&nbsp;</a></span>ram_dspace_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ram_dspace_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *&#160;</td>
          <td class="paramname"><em>rdslist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises an empty ram dataspace list. </p>

</div>
</div>
<a id="acbe1c592522426523cba5d35d452dc6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe1c592522426523cba5d35d452dc6c">&#9670;&nbsp;</a></span>ram_dspace_need_content_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ram_dspace_need_content_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether content initialisation is needed for the given offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The target dataspace. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset into the dataspace to get content init state for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if need content init at given offset, FALSE if already initialised, or -refos_error if content init is not enabled for the given dataspace, or if offset is invalid. <br  />
 </dd></dl>

</div>
</div>
<a id="a652af03222848dad0da8dbfefd1511b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a652af03222848dad0da8dbfefd1511b3">&#9670;&nbsp;</a></span>ram_dspace_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ram_dspace_read </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads data from a ram dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The destination buffer to copy data to. (No ownership) </td></tr>
    <tr><td class="paramname">len</td><td>The length of the data to be copied. </td></tr>
    <tr><td class="paramname">dataspace</td><td>The source ram dataspace. (No ownership) </td></tr>
    <tr><td class="paramname">offset</td><td>The offset into the dataspace to read from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS if success, refos_error otherwise. </dd></dl>

</div>
</div>
<a id="a077eaa9510491695f04745cda7dec614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077eaa9510491695f04745cda7dec614">&#9670;&nbsp;</a></span>ram_dspace_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ram_dspace_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *&#160;</td>
          <td class="paramname"><em>rdslist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a shared reference to ram dataspace from a ram dataspace list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdslist</td><td>The ram dataspace list to reference the dataspace from. </td></tr>
    <tr><td class="paramname">ID</td><td>The ID of target ram dataspace to be refed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f0021ceb7f4f3f8a069640dc82611f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f0021ceb7f4f3f8a069640dc82611f4">&#9670;&nbsp;</a></span>ram_dspace_set_content_init_provided()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ram_dspace_set_content_init_provided </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the content-init page of dataspace at offset to be provided. </p>
<p>Set the provided bitmask flag of the dataspace at the offset to be TRUE, meaning that that page has been content-init provided. Any waiters waiting for the content to be provided should now be woken up, and any further access to these pages should not cause another content-init delegation notification. Does NOT automatically reply to the waiters, that must be separately done via a separate call to <a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html#a98aed999fd02c0d84a86366ed23e51f1" title="Wakes up any waiters waiting at this offset.">ram_dspace_content_init_reply_waiters()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The target dataspace. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset into the dataspace to get content init state for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a57528a79f5f3ada483b54866056ac387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57528a79f5f3ada483b54866056ac387">&#9670;&nbsp;</a></span>ram_dspace_set_to_paddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ram_dspace_set_to_paddr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>paddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the dataspace to start at the given physical address. </p>
<p>Sets the dataspace to start at the given physical address. The following pages of the dataspace will be mapped to the following contiguous physical memory regions. Used to implement device MMIO mapping. Requires the dataspace to be empty and not initialised by any other content already. This should be called immediately after dataspace creation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataspace</td><td>The dataspace to set physical address for. </td></tr>
    <tr><td class="paramname">paddr</td><td>The physical address to start the dataspace at. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS on success, refos_error otherwise. </dd></dl>

</div>
</div>
<a id="abab6f7293bd7f8b42307c41021f41941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab6f7293bd7f8b42307c41021f41941">&#9670;&nbsp;</a></span>ram_dspace_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ram_dspace_unref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structram__dspace__list.html">ram_dspace_list</a> *&#160;</td>
          <td class="paramname"><em>rdslist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unreference a ram dataspace from a ram dataspace list. If this is the last reference, then the ram dataspace will be deleted from the list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rdslist</td><td>The ram dataspace list to unref the dataspace from. </td></tr>
    <tr><td class="paramname">ID</td><td>The ID of target ram dataspace to be unrefed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abde946ee1df9cd81307bcb787a5051be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abde946ee1df9cd81307bcb787a5051be">&#9670;&nbsp;</a></span>ram_dspace_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ram_dspace_write </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structram__dspace.html">ram_dspace</a> *&#160;</td>
          <td class="paramname"><em>dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes data to a ram dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The source buffer containing the data. (No ownership) </td></tr>
    <tr><td class="paramname">len</td><td>The length of the data to be written. </td></tr>
    <tr><td class="paramname">dataspace</td><td>The target dataspace to be written to. (No ownership) </td></tr>
    <tr><td class="paramname">offset</td><td>The offset into the dataspace to write to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS if success, refos_error otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li><li class="navelem"><a class="el" href="dir_53aa6d20d2a83f4c89c1fd34dd1fa489.html">process_server</a></li><li class="navelem"><a class="el" href="dir_2020bcb30412175c6238bd50c5604389.html">src</a></li><li class="navelem"><a class="el" href="dir_88a707bee8654bad827f225accdc13fe.html">system</a></li><li class="navelem"><a class="el" href="dir_d1a36d1ccb4b21eee2130172b2c49c6d.html">memserv</a></li><li class="navelem"><a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h.html">dataspace.h</a></li>
    <li class="footer">Generated on Sat Jun 10 2023 10:14:23 for RefOS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
