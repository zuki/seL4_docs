<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RefOS: libs/librefos/include/refos-util/device_irq.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RefOS
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Multi-server operating system on seL4</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('device__irq_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">device_irq.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Device IRQ handling library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="stdio_8h_source.html">stdio.h</a>&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;sel4/sel4.h&gt;</code><br />
<code>#include &lt;<a class="el" href="refos_8h_source.html">refos/refos.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="serv__common_8h_source.html">refos-util/serv_common.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="serv__connect_8h_source.html">refos-util/serv_connect.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="cvector_8h_source.html">data_struct/cvector.h</a>&gt;</code><br />
</div>
<p><a href="device__irq_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdev__irq__handler.html">dev_irq_handler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ handler struct.  <a href="structdev__irq__handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdev__irq__config.html">dev_irq_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ state configuration struct.  <a href="structdev__irq__config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdev__irq__state.html">dev_irq_state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ handler state struct.  <a href="structdev__irq__state.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a99c301e2e12e737a70385fc55e04ba84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#a99c301e2e12e737a70385fc55e04ba84">DEVICE_MAX_IRQ</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a99c301e2e12e737a70385fc55e04ba84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a227af11e2f4073e13200c6f95e93f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#a75a227af11e2f4073e13200c6f95e93f">DEVICE_IRQ_BADGE_MAX_CHANNELS</a>&#160;&#160;&#160;28</td></tr>
<tr class="separator:a75a227af11e2f4073e13200c6f95e93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac084acdc783df666f689f943d6373203"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#ac084acdc783df666f689f943d6373203">DEVICE_IRQ_MAGIC</a>&#160;&#160;&#160;0x6220E130</td></tr>
<tr class="separator:ac084acdc783df666f689f943d6373203"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2b2ff7e07d08f32447e653f9f204fb62"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#a2b2ff7e07d08f32447e653f9f204fb62">dev_irq_callback_fn_t</a>) (void *cookie, uint32_t irq)</td></tr>
<tr class="separator:a2b2ff7e07d08f32447e653f9f204fb62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca18992e997a1ba0b40bc0890a7b5da"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structdev__irq__handler.html">dev_irq_handler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#afca18992e997a1ba0b40bc0890a7b5da">dev_irq_handler_t</a></td></tr>
<tr class="memdesc:afca18992e997a1ba0b40bc0890a7b5da"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ handler struct.  <a href="device__irq_8h.html#afca18992e997a1ba0b40bc0890a7b5da">More...</a><br /></td></tr>
<tr class="separator:afca18992e997a1ba0b40bc0890a7b5da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc35ad371c609caab716853ea683ff6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structdev__irq__config.html">dev_irq_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#aebc35ad371c609caab716853ea683ff6">dev_irq_config_t</a></td></tr>
<tr class="memdesc:aebc35ad371c609caab716853ea683ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ state configuration struct.  <a href="device__irq_8h.html#aebc35ad371c609caab716853ea683ff6">More...</a><br /></td></tr>
<tr class="separator:aebc35ad371c609caab716853ea683ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46850086280322a1cbbcffdf90223618"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structdev__irq__state.html">dev_irq_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">dev_irq_state_t</a></td></tr>
<tr class="memdesc:a46850086280322a1cbbcffdf90223618"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ handler state struct.  <a href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">More...</a><br /></td></tr>
<tr class="separator:a46850086280322a1cbbcffdf90223618"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae5ab5ae5686d0498bc1dab0bd53578b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#ae5ab5ae5686d0498bc1dab0bd53578b9">dev_irq_init</a> (<a class="el" href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">dev_irq_state_t</a> *irqState, <a class="el" href="device__irq_8h.html#aebc35ad371c609caab716853ea683ff6">dev_irq_config_t</a> config)</td></tr>
<tr class="memdesc:ae5ab5ae5686d0498bc1dab0bd53578b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise IRQ handler helper library state.  <a href="device__irq_8h.html#ae5ab5ae5686d0498bc1dab0bd53578b9">More...</a><br /></td></tr>
<tr class="separator:ae5ab5ae5686d0498bc1dab0bd53578b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa33d3b8e4c49007edabe5da04e9aeb35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#aa33d3b8e4c49007edabe5da04e9aeb35">dev_handle_irq</a> (<a class="el" href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">dev_irq_state_t</a> *irqState, uint32_t irq, <a class="el" href="device__irq_8h.html#a2b2ff7e07d08f32447e653f9f204fb62">dev_irq_callback_fn_t</a> callback, void *cookie)</td></tr>
<tr class="memdesc:aa33d3b8e4c49007edabe5da04e9aeb35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to set up a callback function to the given IRQ number. Each IRQ number by only have one callback set.  <a href="device__irq_8h.html#aa33d3b8e4c49007edabe5da04e9aeb35">More...</a><br /></td></tr>
<tr class="separator:aa33d3b8e4c49007edabe5da04e9aeb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf2c6a955ef84fd6ced4efdb4aca71b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="device__irq_8h.html#acbf2c6a955ef84fd6ced4efdb4aca71b">dev_dispatch_interrupt</a> (<a class="el" href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">dev_irq_state_t</a> *irqState, <a class="el" href="serv__common_8h.html#a31b2623867d2146df7bc0377664561e9">srv_msg_t</a> *<a class="el" href="muse_8c.html#a2be9fd1bd420b11f443b4b54d13f2b4d">m</a>)</td></tr>
<tr class="memdesc:acbf2c6a955ef84fd6ced4efdb4aca71b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatch a device interrupt message.  <a href="device__irq_8h.html#acbf2c6a955ef84fd6ced4efdb4aca71b">More...</a><br /></td></tr>
<tr class="separator:acbf2c6a955ef84fd6ced4efdb4aca71b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Device IRQ handling library. </p>
<p>Unfortunately seL4 async device IRQ badges are quite complicated.</p>
<p>Firstly, a badgeMaskBits mask is used to distinguish between device IRQ messages and messages of other type that the server may recieve, so endpoint sharing is supported. If the server does not share the device IRQ endpoint with anything else then simply set this badgeMaskBits to 0. In the example below, bit 19 has been used as the device IRQ badge flag.</p>
<p>Then, out of the remaining available bits, a bit range is used to indicate an IRQ happening. In the example below, bits 1 - 18 has been used as the range. Every IRQ that the server needs to be able to handle is allocated a bit. If the server needs to handle more than 18 different IRQ then channel conflict occurs and we reuse an allocated channel, resulting in both IRQ handlers getting called, spurious IRQs. This is a limitation of a single endpoint IRQ reciever design.</p>
<p>IRQ badges: ◀――― lower bits higher bits ―――▶ 0 0 1 0 0 0 0 1 1 0 0 0 0 0 1 0 1 0 0 1 ⎣_________________________________⎦ ▲ badgeMaskBits = 0x80000 ▲ ▲ ▲ badgeBaseBit Bitmask indicating badgeTopBit which IRQ channels happened.</p>
<p>numIRQChannels = badgeTopBit - badgeBaseBit - 1 </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a75a227af11e2f4073e13200c6f95e93f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a227af11e2f4073e13200c6f95e93f">&#9670;&nbsp;</a></span>DEVICE_IRQ_BADGE_MAX_CHANNELS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_IRQ_BADGE_MAX_CHANNELS&#160;&#160;&#160;28</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac084acdc783df666f689f943d6373203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac084acdc783df666f689f943d6373203">&#9670;&nbsp;</a></span>DEVICE_IRQ_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_IRQ_MAGIC&#160;&#160;&#160;0x6220E130</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a99c301e2e12e737a70385fc55e04ba84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c301e2e12e737a70385fc55e04ba84">&#9670;&nbsp;</a></span>DEVICE_MAX_IRQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_MAX_IRQ&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a2b2ff7e07d08f32447e653f9f204fb62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2ff7e07d08f32447e653f9f204fb62">&#9670;&nbsp;</a></span>dev_irq_callback_fn_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* dev_irq_callback_fn_t) (void *cookie, uint32_t irq)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aebc35ad371c609caab716853ea683ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc35ad371c609caab716853ea683ff6">&#9670;&nbsp;</a></span>dev_irq_config_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structdev__irq__config.html">dev_irq_config</a> <a class="el" href="device__irq_8h.html#aebc35ad371c609caab716853ea683ff6">dev_irq_config_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IRQ state configuration struct. </p>

</div>
</div>
<a id="afca18992e997a1ba0b40bc0890a7b5da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afca18992e997a1ba0b40bc0890a7b5da">&#9670;&nbsp;</a></span>dev_irq_handler_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structdev__irq__handler.html">dev_irq_handler</a> <a class="el" href="device__irq_8h.html#afca18992e997a1ba0b40bc0890a7b5da">dev_irq_handler_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IRQ handler struct. </p>

</div>
</div>
<a id="a46850086280322a1cbbcffdf90223618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46850086280322a1cbbcffdf90223618">&#9670;&nbsp;</a></span>dev_irq_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structdev__irq__state.html">dev_irq_state</a> <a class="el" href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">dev_irq_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IRQ handler state struct. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acbf2c6a955ef84fd6ced4efdb4aca71b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf2c6a955ef84fd6ced4efdb4aca71b">&#9670;&nbsp;</a></span>dev_dispatch_interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dev_dispatch_interrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">dev_irq_state_t</a> *&#160;</td>
          <td class="paramname"><em>irqState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="serv__common_8h.html#a31b2623867d2146df7bc0377664561e9">srv_msg_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatch a device interrupt message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irqState</td><td>The IRQ state struct. </td></tr>
    <tr><td class="paramname">m</td><td>The recieved interrupt message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DISPATCH_SUCCESS if successfully dispatched, DISPATCH_ERROR if there was an unexpected error, DISPATCH_PASS if the given message is not an interrupt message. </dd></dl>

</div>
</div>
<a id="aa33d3b8e4c49007edabe5da04e9aeb35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa33d3b8e4c49007edabe5da04e9aeb35">&#9670;&nbsp;</a></span>dev_handle_irq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dev_handle_irq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">dev_irq_state_t</a> *&#160;</td>
          <td class="paramname"><em>irqState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="device__irq_8h.html#a2b2ff7e07d08f32447e653f9f204fb62">dev_irq_callback_fn_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to set up a callback function to the given IRQ number. Each IRQ number by only have one callback set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irqState</td><td>The IRQ state struct. </td></tr>
    <tr><td class="paramname">irq</td><td>The IRQ number to set callback for. </td></tr>
    <tr><td class="paramname">callback</td><td>The callback function to set. </td></tr>
    <tr><td class="paramname">cookie</td><td>The cookie that will be passed onto the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESUCCESS if success, refos_err_t otherwise. </dd></dl>

</div>
</div>
<a id="ae5ab5ae5686d0498bc1dab0bd53578b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5ab5ae5686d0498bc1dab0bd53578b9">&#9670;&nbsp;</a></span>dev_irq_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dev_irq_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="device__irq_8h.html#a46850086280322a1cbbcffdf90223618">dev_irq_state_t</a> *&#160;</td>
          <td class="paramname"><em>irqState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="device__irq_8h.html#aebc35ad371c609caab716853ea683ff6">dev_irq_config_t</a>&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise IRQ handler helper library state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irqState</td><td>The IRQ state struct. </td></tr>
    <tr><td class="paramname">config</td><td>The config struct. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6719ab1f1f7655efc2fa43f7eb574fd1.html">libs</a></li><li class="navelem"><a class="el" href="dir_e1f5680096cde1ba172dd0a26cecf023.html">librefos</a></li><li class="navelem"><a class="el" href="dir_4edadee5b8d2d92bd69056f9c1d43ce3.html">include</a></li><li class="navelem"><a class="el" href="dir_77bfc0fb42e2766b94409dfef578a207.html">refos-util</a></li><li class="navelem"><a class="el" href="device__irq_8h.html">device_irq.h</a></li>
    <li class="footer">Generated on Sat Jun 10 2023 10:14:24 for RefOS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
