<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RefOS: apps/process_server/src/dispatchers/proc_syscall.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RefOS
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Multi-server operating system on seL4</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('proc__syscall_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">proc_syscall.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Dispatcher for the procserv syscalls.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="proc__syscall_8h_source.html">proc_syscall.h</a>&quot;</code><br />
<code>#include &lt;vka/kobject_t.h&gt;</code><br />
<code>#include &lt;<a class="el" href="proc__common_8h_source.html">refos-rpc/proc_common.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="proc__server_8h_source.html">refos-rpc/proc_server.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="pid_8h_source.html">../system/process/pid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="process_8h_source.html">../system/process/process.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="proc__client__watch_8h_source.html">../system/process/proc_client_watch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vspace_8h_source.html">../system/addrspace/vspace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="window_8h_source.html">../system/memserv/window.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="process__server_2src_2system_2memserv_2dataspace_8h_source.html">../system/memserv/dataspace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ringbuffer_8h_source.html">../system/memserv/ringbuffer.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a482546b77544679fafe4b0e17a7baa58"><td class="memItemLeft" align="right" valign="top">static seL4_CPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#a482546b77544679fafe4b0e17a7baa58">proc_syscall_allocate_endpoint</a> (struct <a class="el" href="structproc__pcb.html">proc_pcb</a> *pcb, kobject_t type)</td></tr>
<tr class="memdesc:a482546b77544679fafe4b0e17a7baa58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a kernel endpoint object for the given process.  <a href="proc__syscall_8c.html#a482546b77544679fafe4b0e17a7baa58">More...</a><br /></td></tr>
<tr class="separator:a482546b77544679fafe4b0e17a7baa58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9ce8d4da74606cd8e8d0d774bb52e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#a1c9ce8d4da74606cd8e8d0d774bb52e2">proc_ping_handler</a> (void *rpc_userptr)</td></tr>
<tr class="memdesc:a1c9ce8d4da74606cd8e8d0d774bb52e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles ping syscalls.  <a href="proc__syscall_8c.html#a1c9ce8d4da74606cd8e8d0d774bb52e2">More...</a><br /></td></tr>
<tr class="separator:a1c9ce8d4da74606cd8e8d0d774bb52e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9154852e8ef24b2cd0c846b766dba131"><td class="memItemLeft" align="right" valign="top">seL4_CPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#a9154852e8ef24b2cd0c846b766dba131">proc_new_endpoint_internal_handler</a> (void *rpc_userptr, <a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> *rpc_errno)</td></tr>
<tr class="memdesc:a9154852e8ef24b2cd0c846b766dba131"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles sync endpoint creation syscalls.  <a href="proc__syscall_8c.html#a9154852e8ef24b2cd0c846b766dba131">More...</a><br /></td></tr>
<tr class="separator:a9154852e8ef24b2cd0c846b766dba131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4dddcc74daf62431a0f6e00c4fd02ea"><td class="memItemLeft" align="right" valign="top">seL4_CPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#af4dddcc74daf62431a0f6e00c4fd02ea">proc_new_async_endpoint_internal_handler</a> (void *rpc_userptr, <a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> *rpc_errno)</td></tr>
<tr class="memdesc:af4dddcc74daf62431a0f6e00c4fd02ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles async endpoint creation syscalls.  <a href="proc__syscall_8c.html#af4dddcc74daf62431a0f6e00c4fd02ea">More...</a><br /></td></tr>
<tr class="separator:af4dddcc74daf62431a0f6e00c4fd02ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e5977938674b8e4154cbca70a6127e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#aa4e5977938674b8e4154cbca70a6127e">proc_watch_client_handler</a> (void *rpc_userptr, seL4_CPtr rpc_liveness, seL4_CPtr rpc_deathEP, int32_t *rpc_deathID)</td></tr>
<tr class="memdesc:aa4e5977938674b8e4154cbca70a6127e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles client watching syscalls.  <a href="proc__syscall_8c.html#aa4e5977938674b8e4154cbca70a6127e">More...</a><br /></td></tr>
<tr class="separator:aa4e5977938674b8e4154cbca70a6127e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e84a01d2e731e7dce14c15428e814d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#ad7e84a01d2e731e7dce14c15428e814d">proc_unwatch_client_handler</a> (void *rpc_userptr, seL4_CPtr rpc_liveness)</td></tr>
<tr class="memdesc:ad7e84a01d2e731e7dce14c15428e814d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles client un-watching syscalls.  <a href="proc__syscall_8c.html#ad7e84a01d2e731e7dce14c15428e814d">More...</a><br /></td></tr>
<tr class="separator:ad7e84a01d2e731e7dce14c15428e814d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af033b774be947068336b21f33bc5e125"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#af033b774be947068336b21f33bc5e125">proc_set_parambuffer_handler</a> (void *rpc_userptr, seL4_CPtr rpc_dataspace, uint32_t rpc_size)</td></tr>
<tr class="memdesc:af033b774be947068336b21f33bc5e125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the process's parameter buffer.  <a href="proc__syscall_8c.html#af033b774be947068336b21f33bc5e125">More...</a><br /></td></tr>
<tr class="separator:af033b774be947068336b21f33bc5e125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ff99264dee83c4ce888e59374b417b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#af6ff99264dee83c4ce888e59374b417b">proc_new_proc_handler</a> (void *rpc_userptr, char *rpc_name, char *rpc_params, bool rpc_block, int32_t rpc_priority, int32_t *rpc_status)</td></tr>
<tr class="memdesc:af6ff99264dee83c4ce888e59374b417b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a new process.  <a href="proc__syscall_8c.html#af6ff99264dee83c4ce888e59374b417b">More...</a><br /></td></tr>
<tr class="separator:af6ff99264dee83c4ce888e59374b417b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7136388c0e5991354d5b0f8c0f869c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#ae7136388c0e5991354d5b0f8c0f869c5">proc_exit_handler</a> (void *rpc_userptr, int32_t rpc_status)</td></tr>
<tr class="memdesc:ae7136388c0e5991354d5b0f8c0f869c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exits and deletes the process which made this call.  <a href="proc__syscall_8c.html#ae7136388c0e5991354d5b0f8c0f869c5">More...</a><br /></td></tr>
<tr class="separator:ae7136388c0e5991354d5b0f8c0f869c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd7abe9978f757949f4d449684b182c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#aedd7abe9978f757949f4d449684b182c">proc_clone_internal_handler</a> (void *rpc_userptr, seL4_Word rpc_entryPoint, seL4_Word rpc_childStack, int rpc_flags, seL4_Word rpc_arg, <a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> *rpc_errno)</td></tr>
<tr class="separator:aedd7abe9978f757949f4d449684b182c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8652105c8ab64ba532358df904e45e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#aeb8652105c8ab64ba532358df904e45e">proc_nice_handler</a> (void *rpc_userptr, int rpc_threadID, int rpc_priority)</td></tr>
<tr class="separator:aeb8652105c8ab64ba532358df904e45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a520f8acd84c09fc1c10313338290240d"><td class="memItemLeft" align="right" valign="top">seL4_CPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#a520f8acd84c09fc1c10313338290240d">proc_get_irq_handler_handler</a> (void *rpc_userptr, int rpc_irq)</td></tr>
<tr class="separator:a520f8acd84c09fc1c10313338290240d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab325edbfb62e59074b193b9de72bae0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="proc__syscall_8c.html#ab325edbfb62e59074b193b9de72bae0d">check_dispatch_syscall</a> (struct <a class="el" href="structprocserv__msg.html">procserv_msg</a> *<a class="el" href="muse_8c.html#a2be9fd1bd420b11f443b4b54d13f2b4d">m</a>, void **userptr)</td></tr>
<tr class="memdesc:ab325edbfb62e59074b193b9de72bae0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the given recieved message is a procserv syscall.  <a href="proc__syscall_8c.html#ab325edbfb62e59074b193b9de72bae0d">More...</a><br /></td></tr>
<tr class="separator:ab325edbfb62e59074b193b9de72bae0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Dispatcher for the procserv syscalls. </p>
<p>Handles calls to process server syscall interface. The process server interface provides process abstraction, simple naming, server registration, memory windows...etc. (For more details, refer to the protocol design document.). The methods here implement the functions in the generated header file &lt;<a class="el" href="proc__server_8h.html" title="Generated file for the proc interface. Please do NOT edit this file.">refos-rpc/proc_server.h</a>&gt;.</p>
<p>The memory related process server syscalls resides in <a class="el" href="mem__syscall_8c.html" title="Dispatcher for the procserv memory related syscalls.">mem_syscall.c</a> and <a class="el" href="mem__syscall_8h.html" title="Dispatcher for the procserv memory related syscalls.">mem_syscall.h</a>. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab325edbfb62e59074b193b9de72bae0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab325edbfb62e59074b193b9de72bae0d">&#9670;&nbsp;</a></span>check_dispatch_syscall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_dispatch_syscall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structprocserv__msg.html">procserv_msg</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>userptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether the given recieved message is a procserv syscall. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>Struct containing info about the recieved message. </td></tr>
    <tr><td class="paramname">userptr</td><td>Output user pointer. Pass this into the generated dispatcher function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DISPATCH_SUCCESS if message is a procserv syscall, DISPATCH_PASS otherwise. </dd></dl>

</div>
</div>
<a id="aedd7abe9978f757949f4d449684b182c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd7abe9978f757949f4d449684b182c">&#9670;&nbsp;</a></span>proc_clone_internal_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int proc_clone_internal_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_Word&#160;</td>
          <td class="paramname"><em>rpc_entryPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_Word&#160;</td>
          <td class="paramname"><em>rpc_childStack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpc_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_Word&#160;</td>
          <td class="paramname"><em>rpc_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> *&#160;</td>
          <td class="paramname"><em>rpc_errno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae7136388c0e5991354d5b0f8c0f869c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7136388c0e5991354d5b0f8c0f869c5">&#9670;&nbsp;</a></span>proc_exit_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> proc_exit_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>rpc_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Exits and deletes the process which made this call. </p>

</div>
</div>
<a id="a520f8acd84c09fc1c10313338290240d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520f8acd84c09fc1c10313338290240d">&#9670;&nbsp;</a></span>proc_get_irq_handler_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">seL4_CPtr proc_get_irq_handler_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpc_irq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af4dddcc74daf62431a0f6e00c4fd02ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4dddcc74daf62431a0f6e00c4fd02ea">&#9670;&nbsp;</a></span>proc_new_async_endpoint_internal_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">seL4_CPtr proc_new_async_endpoint_internal_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> *&#160;</td>
          <td class="paramname"><em>rpc_errno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles async endpoint creation syscalls. </p>

</div>
</div>
<a id="a9154852e8ef24b2cd0c846b766dba131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9154852e8ef24b2cd0c846b766dba131">&#9670;&nbsp;</a></span>proc_new_endpoint_internal_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">seL4_CPtr proc_new_endpoint_internal_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> *&#160;</td>
          <td class="paramname"><em>rpc_errno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles sync endpoint creation syscalls. </p>

</div>
</div>
<a id="af6ff99264dee83c4ce888e59374b417b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ff99264dee83c4ce888e59374b417b">&#9670;&nbsp;</a></span>proc_new_proc_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> proc_new_proc_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rpc_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rpc_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rpc_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>rpc_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>rpc_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a new process. </p>

</div>
</div>
<a id="aeb8652105c8ab64ba532358df904e45e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb8652105c8ab64ba532358df904e45e">&#9670;&nbsp;</a></span>proc_nice_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> proc_nice_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpc_threadID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rpc_priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c9ce8d4da74606cd8e8d0d774bb52e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c9ce8d4da74606cd8e8d0d774bb52e2">&#9670;&nbsp;</a></span>proc_ping_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> proc_ping_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles ping syscalls. </p>

</div>
</div>
<a id="af033b774be947068336b21f33bc5e125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af033b774be947068336b21f33bc5e125">&#9670;&nbsp;</a></span>proc_set_parambuffer_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> proc_set_parambuffer_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_CPtr&#160;</td>
          <td class="paramname"><em>rpc_dataspace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rpc_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the process's parameter buffer. </p>
<p>Sets the process's parameter buffer to the given RAM dataspace. Only support a RAM dataspace which orginated from the process server's own dataspace implementation, does not support an external dataspace. </p>

</div>
</div>
<a id="a482546b77544679fafe4b0e17a7baa58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a482546b77544679fafe4b0e17a7baa58">&#9670;&nbsp;</a></span>proc_syscall_allocate_endpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static seL4_CPtr proc_syscall_allocate_endpoint </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structproc__pcb.html">proc_pcb</a> *&#160;</td>
          <td class="paramname"><em>pcb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">kobject_t&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a kernel endpoint object for the given process. </p>
<p>Creates a kernel endpoint object for the given process. Also does the book-keeping underneath so that the created objects can be destroyed when the process exits.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcb</td><td>Handle to the process to create the object for. (no ownership) </td></tr>
    <tr><td class="paramname">type</td><td>The kernel endpoint object type to create for the process; sync or async. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Handle to the created object if successful (no ownership), NULL if there was an error. (eg. ran out of heap or untyped memory). </dd></dl>

</div>
</div>
<a id="ad7e84a01d2e731e7dce14c15428e814d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e84a01d2e731e7dce14c15428e814d">&#9670;&nbsp;</a></span>proc_unwatch_client_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> proc_unwatch_client_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_CPtr&#160;</td>
          <td class="paramname"><em>rpc_liveness</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles client un-watching syscalls. </p>

</div>
</div>
<a id="aa4e5977938674b8e4154cbca70a6127e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e5977938674b8e4154cbca70a6127e">&#9670;&nbsp;</a></span>proc_watch_client_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#ab02fa9e366ab2610943a42d4ab87d3c9">refos_err_t</a> proc_watch_client_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>rpc_userptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_CPtr&#160;</td>
          <td class="paramname"><em>rpc_liveness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">seL4_CPtr&#160;</td>
          <td class="paramname"><em>rpc_deathEP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>rpc_deathID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles client watching syscalls. </p>
<p>Most servers would need to call this in order to be notified of client death in order to be able to delete any internal book-keeping for the dead client. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li><li class="navelem"><a class="el" href="dir_53aa6d20d2a83f4c89c1fd34dd1fa489.html">process_server</a></li><li class="navelem"><a class="el" href="dir_2020bcb30412175c6238bd50c5604389.html">src</a></li><li class="navelem"><a class="el" href="dir_0f69ba8e32cdd82dc40e4859203a0fff.html">dispatchers</a></li><li class="navelem"><a class="el" href="proc__syscall_8c.html">proc_syscall.c</a></li>
    <li class="footer">Generated on Sat Jun 10 2023 17:16:02 for RefOS by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
